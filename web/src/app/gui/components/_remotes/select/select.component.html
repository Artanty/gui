<!-- <div class="input-group">
    <label for="input" class="label">
      Пользователь
    </label>

    <select class="select" [(ngModel)]="user" name="input" id="select">
      <option *ngFor="let item of (options$ | async)" [value]="item.id">
        {{ item.name }} 
      </option>
    </select>
</div> -->

<div class="input-group">
  <label [for]="inputId" class="label" *ngIf="label">
    {{ label }}
  </label>

  <select 
    class="select" 
    [(ngModel)]="selectedValue" 
    [name]="name" 
    [id]="inputId"
    [disabled]="disabled"
    (ngModelChange)="onValueChange($event)"
  >
    <option *ngIf="showEmptyOption" [value]="null" [disabled]="emptyOptionDisabled">
      {{ emptyOptionText }}
    </option>
    
    <option 
      *ngFor="let item of resolvedOptions" 
      [value]="item.id"
      [disabled]="item.disabled"
    >
      {{ item.name }}
    </option>
  </select>

  <div *ngIf="loading" class="loading">
    Loading...
  </div>

  <div *ngIf="error" class="error">
    Failed to load options
  </div>
</div>